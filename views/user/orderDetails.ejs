<!DOCTYPE html>
<html lang="zxx">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Male_Fashion Template" />
    <meta name="keywords" content="Male_Fashion, unica, creative, html" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Zay Fashion</title>

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css" />
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
    <link rel="stylesheet" href="css/nice-select.css" type="text/css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css" />
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css" />
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <link rel="stylesheet" href="assets2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets2/css/templatemo.css" />
    <link rel="stylesheet" href="assets2/css/custom.css" /> 
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      a {
        text-decoration: none;
      }

      .status-checkboxes {
        margin-top: 0.5rem;
      }

      .status-checkboxes .form-check {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
      }

      .status-checkboxes .form-check-input {
        margin-top: 0;
        margin-right: 5px;
        /* Adjust spacing between checkbox and label */
      }

      .status-checkboxes .form-check-label {
        margin-bottom: 0;
      }
    </style>
  </head>

  <body>
    <%- include('../partials/nav.ejs') -%>
    <div class="bg-body-tertiary" style="margin: 0 auto; padding: 15px 15px">
      <!-- <div class="container-fluid"> -->
      <div class="row">
        <div class="col-md-3" style="">
          <div
            style="
              padding: 16px;
              margin-bottom: 12px;
              background-color: #fff;
              box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08);
            "
          >
            <div
              class="d-flex"
              style="flex-wrap: wrap; padding: 16px; margin-bottom: 12px"
            >
              <div style="display: flex; flex-grow: 1">
                <div
                  style="
                    flex-grow: 1;
                    padding-top: 10px;
                    padding-left: 5px;
                    padding-right: 40px;
                    font-weight: 900;
                  "
                >
                  MY ORDERS
                </div>
              </div>
            </div>
          </div>
          <div
            style="
              padding: 16px;
              margin-bottom: 12px;
              background-color: #fff;
              box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08);
            "
          >
            <div
              class="d-flex"
              style="flex-wrap: wrap; padding: 16px; margin-bottom: 12px"
            >
              <div style="display: flex; flex-grow: 1">
                <div
                  style="
                    flex-grow: 1;
                    padding-top: 10px;
                    padding-left: 5px;
                    padding-right: 40px;
                    font-weight: 900;
                  "
                >
                  Filters
                </div>
              </div>
            </div>
            <div class="status-checkboxes">
              <div class="ms-4 mb-3 gap-2">
                <div class="form-check">
                  <input
                    class="form-check-input mt-0"
                    type="checkbox"
                    id="onTheWay"
                    value=""
                  />
                  <label class="form-check-label" for="onTheWay"
                    >On the way</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input mt-0"
                    type="checkbox"
                    id="delivered"
                    value=""
                  />
                  <label class="form-check-label" for="delivered"
                    >Delivered</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input mt-0"
                    type="checkbox"
                    id="cancelled"
                    value=""
                  />
                  <label class="form-check-label" for="cancelled"
                    >Cancelled</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input mt-0"
                    type="checkbox"
                    id="returned"
                    value=""
                  />
                  <label class="form-check-label" for="returned"
                    >Returned</label
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-9">
          <div class="d-flex flex-column">
            <div class="div" style="width: 85%; background-color: #fff">
              <div class="input-group" style="">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Recipient's username"
                  aria-label="Recipient's username"
                  aria-describedby="button-addon2"
                />
                <button class="btn btn-dark" type="button" id="button-addon2">
                  Search orders
                </button>
              </div>
            </div>

            <%if(myOrder) {%> <%myOrder.products.forEach( (el, i)=> {%>

            <div
              onclick="singleOrder('<%= el.productId._id%>', '<%= i%>', '<%= el.size%>', '<%= myOrder._id%>')"
              style="
                background-color: #fff;
                box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08);
                margin-top: 2rem;
              "
            >
              <div style="padding: 16px">
                <div class="row">
                  <div class="col-6">
                    <div class="row">
                      <div class="col-3">
                        <div class="d-flex" style="">
                          <div style="margin: 0 auto">
                            <img
                              src="/img/productImage/sharp/<%= el.productId.variant[el.product].images[0]%>"
                              style="width: 75%; height: 75%"
                              alt=""
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-8">
                        <div>
                          <span> <%= el.productId.name%> </span>
                          <div class="d-flex">
                            <% const match=[['S', 'Small' ], ['M', 'Medium' ], ['L', "Large" ], ['XL', 'Exel' ], ['XXL', 'Double exel' ]]%> 
                            <%const size=match.find((size)=> (size[0] === el.size)) %>
                            <p class="me-2">
                              <span>Color: </span>
                              <%= el.productId.variant[el.product].color%>
                            </p>
                            <p>
                              <span>Size: </span>
                              <%= size[1]%>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-2">â‚¹<%= el.price%></div>
                  <div class="col-4">
                    <div class="d-flex" style="align-items: center">
                      <div
                        class="<%= el.status === 'delivered' ? 'bg-success' : ''%> <%= el.status === 'placed' ? 'border border-success' : '' %> <%= el.status === 'canceled' ? 'bg-danger' : '' %> <%= el.status === 'returned' ? 'fa-solid fa-arrow-left fa-2xs' : '' %>"
                        style="
                          width: 10px;
                          height: 10px;
                          margin-bottom: 13px;
                          margin-right: 1rem;
                          border-radius: 50%;
                          border: 2px;
                        "
                      ></div>

                      <% const status=[['placed', 'your product as placed' ], ['outfordelivery', 'your seems to come soon' ], ['shipped', 'your product is shipped' ], ['delivered', 'your product as delivered' ], ['canceled', 'product as canceled' ], ['returned', 'product as returned' ]]%>
                      <%const text=status.find(( text )=> ( text[0] ===  el.status)) %>

                      <div>
                        <p class="text-muted"><%= text[1]%></p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <%})%> <%} else {%>

            <div style="background-color: #111111">
              <p style="color: #fff">No order found</p>
            </div>

            <%}%>
          </div>
        </div>

        <!-- </div> -->
      </div>
    </div>
    <%- include('../layout/userTemplateFooter.ejs') -%>
    <script src="js/jquery-3.3.1.min.js"></script>
    <!-- <script src="js/bootstrap.min.js"></script> -->
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>

<script>
  function singleOrder(productId, index, size, orderId) {
    try {
      console.log(productId, index, size, orderId);
      location.href = `/single-product?productId=${productId}&index=${index}&size=${size}&orderId=${orderId}`;
    } catch (error) {
      console.log(error);
    }
  }
</script>
